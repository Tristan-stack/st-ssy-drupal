{# Hérite de la structure de base de votre page.html.twig #}
<div class="page-wrapper">
    <header class="site-header">
        {% include '@custom_theme/components/navigation/main-navigation.html.twig' %}
    </header>

    <nav class="product-navigation">
        <a href="{{ base_path }}/new-arrivals" class="nav-link back-link">
            < BACK TO NEW ARRIVALS</a>
        <a href="#" class="nav-link next-link">NEXT PRODUCT ></a>
    </nav>

    <main class="main-product-detail">
        <div class="left-content">
            <img class="recto" src="{{ base_path ~ directory }}/images/tshirt-recto.png" alt="T-shirt recto">
            <img class="verso" src="{{ base_path ~ directory }}/images/tshirt-verso.png" alt="T-shirt verso">
        </div>
        <div class="right-content">
            <div class="info">
                <div class="info-top">
                    <p>Dice tee pigment dyed</p>
                    <p>$45</p>
                </div>

                <div class="colors">
                    <p id="selected-color">Black</p>
                    <div class="colors-container">
                        <img class="black" src="{{ base_path ~ directory }}/images/tshirt-verso.png" data-color="Black">
                        <img class="white" src="{{ base_path ~ directory }}/images/white-T.png" data-color="White">
                        <img class="navy" src="{{ base_path ~ directory }}/images/navy-T.png" data-color="Navy">
                        <img class="yellow" src="{{ base_path ~ directory }}/images/yellow-T.png" data-color="Yellow">
                        <img class="grape hidden" src="{{ base_path ~ directory }}/images/grape-T.png"
                            data-color="Grape">
                        <button class="more-colors">+1</button>
                    </div>
                </div>

                <div class="sizes">
                    <button class="size-btn">S</button>
                    <button class="size-btn">M</button>
                    <button class="size-btn">L</button>
                    <button class="size-btn">XL</button>
                    <button class="size-btn">XXL</button>
                </div>

                <div class="shipping">
                    <p>Free shipping in US over $200 USD. Exclusions apply.</p>
                </div>

                <div class="collapsible-container">
                    <button class="detail-btn">Details <span>> </span></button>
                    <div class="detail-content collapsed">
                        <p>Relaxed fit pigment dyed tee in midweight 220gsm cotton jersey. Screenprinted using
                            water-based ink for a soft hand feel.</p>
                        <ul>
                            <li>- Shortsleeve</li>
                            <li>- Ribbed collar</li>
                            <li>- Relaxed fit</li>
                            <li>- Unisex</li>
                            <li>- Material: 100% cotton</li>
                            <li>- Imported</li>
                        </ul>
                        <p class="note">*This garment has been individually dyed, producing a one-of-a-kind result.
                            Color may fade or bleed after wash.</p>
                    </div>
                </div>
                <div class="collapsible-container">
                    <button class="size-guide-btn">Size guide <span>> </span> </button>
                    <div class="size-guide-content collapsed">
                        <p>All measurements are taken across the garment while laid flat.</p>
                        <div class="unit-toggle">
                            <button class="unit-btn active" data-unit="inches">INCHES</button>
                            <span>|</span>
                            <button class="unit-btn" data-unit="cm">CM</button>
                        </div>
                        <table class="size-table inches-table">
                            <tr>
                                <th>SIZE</th>
                                <th>S</th>
                                <th>M</th>
                                <th>L</th>
                                <th>XL</th>
                                <th>XXL</th>
                            </tr>
                            <tr>
                                <td>CHEST</td>
                                <td>19.5</td>
                                <td>21.5</td>
                                <td>23.5</td>
                                <td>25.5</td>
                                <td>27.5</td>
                            </tr>
                            <tr>
                                <td>FRONT LENGTH</td>
                                <td>27.5</td>
                                <td>28.5</td>
                                <td>29.5</td>
                                <td>30.5</td>
                                <td>31.5</td>
                            </tr>
                            <tr>
                                <td>SLEEVE LENGTH</td>
                                <td>8.5</td>
                                <td>9</td>
                                <td>9.5</td>
                                <td>10</td>
                                <td>10</td>
                            </tr>
                        </table>
                        <table class="size-table cm-table hidden">
                            <tr>
                                <th>SIZE</th>
                                <th>S</th>
                                <th>M</th>
                                <th>L</th>
                                <th>XL</th>
                                <th>XXL</th>
                            </tr>
                            <tr>
                                <td>CHEST</td>
                                <td>49.5</td>
                                <td>54.6</td>
                                <td>59.7</td>
                                <td>64.8</td>
                                <td>69.8</td>
                            </tr>
                            <tr>
                                <td>FRONT LENGTH</td>
                                <td>69.8</td>
                                <td>72.4</td>
                                <td>74.9</td>
                                <td>77.5</td>
                                <td>80</td>
                            </tr>
                            <tr>
                                <td>SLEEVE LENGTH</td>
                                <td>21.6</td>
                                <td>22.9</td>
                                <td>24.1</td>
                                <td>25.4</td>
                                <td>25.4</td>
                            </tr>
                        </table>
                        <div class="size-guide-image">
                            <img src="{{ base_path ~ directory }}/images/size_guide.png" alt="Guide des tailles">
                        </div>
                    </div>
                </div>
                <div class="collapsible-container">
                    <button class="shipping-btn">Shipping & Returns <span>> </span> </button>
                    <div class="shipping-content collapsed">
                        <p class="shipping-standard">Standard $8 (3-7 business days)</p>

                        <div class="shipping-group">
                            <p class="shipping-title">APO, FPO and P.O. boxes:</p>
                            <p>Standard – $15 (3-7 business days)</p>
                        </div>

                        <div class="shipping-group">
                            <p class="shipping-title">Alaska, Hawaii, Puerto Rico, Virgin Islands:</p>
                            <p>Standard – $15 (3-7 business days)</p>
                        </div>

                        <div class="returns-info">
                            <p>Returns can be made within seven days of delivery. Exclusions apply.</p>
                            <p>See our <a href="#">return guidelines</a> for more details.</p>
                        </div>
                    </div>
                </div>
                <div class="collapsible-container">
                    <button class="chat-btn">Chat</button>
                </div>

                <div class="buttons-container">
                    <button class="add-to-bag">ADD TO BAG</button>
                    <button class="checkout">CHECKOUT</button>
                </div>
            </div>
        </div>
    </main>

    {{ page.content }}

    <footer class="footer-wrapper">
        {{ page.footer }}
    </footer>
</div>

<style>
    .main-product-detail {
        width: 1440px;
        display: flex;
        justify-content: center;
        align-items: self-start;
        gap: 20px;
    }

    .right-content {
        width: 35%;
        margin-top: 60px;
        position: sticky;
        top: 80px;
        height: fit-content;
    }

    .left-content img {
        width: 90%;
        height: 90%;
        object-fit: cover;
        margin-bottom: 20px;
    }

    .left-content {
        width: 50%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;

    }

    .info-top {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: self-start;
        border-bottom: 1px solid #F5F5F5;
        padding-bottom: 20px;
    }

    .info-top p {
        margin: 0;
        padding: 0;
        font-size: 12px;
        text-transform: uppercase;
    }

    .info-top p:nth-child(1) {
        font-weight: bold;
    }

    .colors-container {
        display: flex;
        justify-content: start;
        align-items: self-start;
        gap: 10px;
    }

    .colors p {
        font-size: 11px;
        text-transform: uppercase;
        color: #646363;

    }

    .colors-container {
        border-bottom: 1px solid #F5F5F5;
        padding-bottom: 25px;
    }

    .colors-container img {
        width: 60px;
        height: 60px;
    }

    .colors-container .hidden {
        display: none;
    }

    .more-colors {
        width: 30px;
        height: 60px;
        background: white;
        cursor: pointer;
        font-size: 12px;
        color: #000000;
        border: none;
        margin-left: -10px;
    }

    .more-colors.hidden {
        display: none;
    }

    .sizes {
        display: flex;
        justify-content: start;
        align-items: self-start;
        gap: 10px;
        padding: 25px 0;
        border-bottom: 1px solid #F5F5F5;
    }

    .size-btn {
        border: none;
        background: none;
        font-size: 11px;
        text-transform: uppercase;
        color: #000000;
    }

    .size-btn:hover {
        font-weight: bold;
    }

    .shipping {
        font-size: 10px;
        border-bottom: 1px solid #F5F5F5;
        padding: 20px 0;

    }

    .shipping p {
        margin: 0;
        padding: 0;
    }

    .collapsible-container {
        border-bottom: 1px solid #F5F5F5;
        padding: 15px 0;
    }

    .collapsible-container button {
        border: none;
        background: none;
        font-size: 11px;
        text-transform: uppercase;
        cursor: pointer;
    }

    .collapsible-container button:hover,
    .collapsible-container button.active {
        font-weight: bold;
    }

    .collapsible-container button span {
        display: inline-block;
        transform: rotate(0deg);
        transition: transform 0.3s ease;
    }

    .collapsible-container button:hover span {
        transform: rotate(90deg);
    }

    /* Hériter des styles existants */
    body {
        background: white !important;
        background-image: none !important;
        margin: 0;
        padding: 0;
    }

    .site-header {
        margin-bottom: -100px !important;
        padding-bottom: 0 !important;
    }

    .footer-wrapper .text-content.clearfix.field.field--name-body.field--type-text-with-summary.field--label-hidden.field__item {
        display: flex;
        width: 100%;
        justify-content: space-between;
        align-items: center;
        padding: 6px;
        background-color: white !important;
        border-top: 1px solid #F5F5F5;
        font-family: metropolis, sans-serif;
        margin-top: -140px !important;
    }

    .footer-wrapper .text-content.clearfix.field.field--name-body.field--type-text-with-summary.field--label-hidden.field__item::after {
        display: none !important;
        content: none !important;
    }

    .footer-wrapper .text-content.clearfix.field.field--name-body.field--type-text-with-summary.field--label-hidden.field__item p {
        margin: 0;
        padding: 0;
        color: black !important;
        margin-right: 10px;
    }

    .footer-wrapper .text-content.clearfix.field.field--name-body.field--type-text-with-summary.field--label-hidden.field__item p:nth-child(2) {
        margin: 0;
        padding: 0;
        font-size: 10px;
        color: #646363 !important;
    }

    .footer-wrapper .text-content.clearfix.field.field--name-body.field--type-text-with-summary.field--label-hidden.field__item p a {
        text-decoration: none;
        color: black !important;
        padding: 0;
        margin: 0;
        font-size: 10px;
        font-weight: normal;
    }

    .footer-wrapper .text-content.clearfix.field.field--name-body.field--type-text-with-summary.field--label-hidden.field__item p a:hover {
        font-weight: bold;
        text-decoration: none !important;
        background: none !important;
    }

    .footer-wrapper {
        margin-top: auto;
        width: 100%;
    }

    .detail-content {
        padding: 20px 0;
        font-size: 12px;
        line-height: 1.5;
        max-height: 500px;
        overflow: hidden;
        transition: all 0.3s ease-in-out;
    }

    .detail-content.collapsed {
        max-height: 0;
        padding: 0;
        opacity: 0;
    }

    .detail-content ul {
        list-style: none;
        padding-left: 0;
        margin: 15px 0;
    }

    .detail-content li {
        margin-bottom: 5px;
    }

    .detail-content .note {
        font-style: italic;
        color: #646363;
    }

    .collapsible-container button.active span {
        transform: rotate(90deg);
    }

    .size-guide-content {
        padding: 20px 0;
        font-size: 12px;
        line-height: 1.5;
        max-height: 500px;
        overflow: hidden;
        transition: all 0.3s ease-in-out;
    }

    .size-guide-content.collapsed {
        max-height: 0;
        padding: 0;
        opacity: 0;
    }

    .size-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 15px;
    }

    .size-table th,
    .size-table td {
        padding: 8px;
        text-align: left;
        border-bottom: 1px solid #F5F5F5;
        font-size: 11px;
    }

    .size-table th {
        font-weight: bold;
    }

    .unit-toggle {
        display: flex;
        align-items: center;
        gap: 10px;
        margin: 15px 0;
    }

    .unit-btn {
        background: none;
        border: none;
        font-size: 11px;
        cursor: pointer;
        padding: 0;
        color: #646363;
    }

    .unit-btn.active {
        color: #000000;
        font-weight: bold;
    }

    .hidden {
        display: none;
    }

    .size-guide-image {
        margin-top: 20px;

        width: 100%;
    }

    .size-guide-image img {
        width: 55%;
        height: auto;
        display: block;
    }

    .shipping-content {
        padding: 20px 0;
        font-size: 11px;
        line-height: 1.5;
        max-height: 500px;
        overflow: hidden;
        transition: all 0.3s ease-in-out;
    }

    .shipping-content.collapsed {
        max-height: 0;
        padding: 0;
        opacity: 0;
    }

    .shipping-standard {
        margin-bottom: 15px;
        color: #000000;
    }

    .shipping-group {
        margin: 15px 0;
    }

    .shipping-title {
        color: #4b4a4a;
        margin-bottom: 3px;
    }

    .shipping-group p:not(.shipping-title) {
        color: #646363;
    }

    .returns-info {
        color: #4b4a4a;
    }

    .returns-info p {
        margin: 3px 0;
    }

    .returns-info a {
        color: #4b4a4a;
        text-decoration: none;
    }

    .returns-info a:hover {
        text-decoration: underline;
    }

    .buttons-container {
        display: flex;
        gap: 10px;
        margin-top: 20px;
        width: 100%;
    }

    .add-to-bag,
    .checkout {
        flex: 1;
        padding: 15px;
        text-transform: uppercase;
        font-size: 11px;
        cursor: pointer;
        border: 1px solid #000000;
    }

    .add-to-bag {
        background-color: #000000;
        color: white;
        border: none;
    }

    .checkout {
        background-color: transparent;
        color: #000000;
    }

    .add-to-bag:hover {
        opacity: 0.9;
    }

    .checkout:hover {
        background-color: #f5f5f5;
    }

    .product-navigation {
        width: 100%;
        background-color: white;
        margin-top: -100px;
        padding: 10px 0;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 1000;
        border-bottom: 1px solid #F5F5F5;
    }

    .nav-link {
        text-decoration: none;
        color: #000000;
        font-size: 11px;
        text-transform: uppercase;
        transition: opacity 0.3s ease;
    }

    .nav-link:hover {
        opacity: 0.7;
    }

    .back-link {
        margin-right: auto;
    }

    .next-link {
        margin-left: auto;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const colorText = document.getElementById('selected-color');
        const colorImages = document.querySelectorAll('.colors-container img');
        const moreColorsBtn = document.querySelector('.more-colors');
        const hiddenColors = document.querySelectorAll('.colors-container .hidden');

        colorImages.forEach(img => {
            img.addEventListener('mouseenter', function () {
                colorText.textContent = this.getAttribute('data-color');
            });

            img.addEventListener('mouseleave', function () {
                colorText.textContent = 'Black'; // Retour à la couleur par défaut
            });
        });

        moreColorsBtn.addEventListener('click', function () {
            hiddenColors.forEach(color => {
                color.classList.remove('hidden');
            });
            this.classList.add('hidden');
        });

        const detailBtn = document.querySelector('.detail-btn');
        const detailContent = document.querySelector('.detail-content');

        detailBtn.addEventListener('click', function () {
            detailContent.classList.toggle('collapsed');
            this.classList.toggle('active');
        });

        const sizeGuideBtn = document.querySelector('.size-guide-btn');
        const sizeGuideContent = document.querySelector('.size-guide-content');

        sizeGuideBtn.addEventListener('click', function () {
            sizeGuideContent.classList.toggle('collapsed');
            this.classList.toggle('active');
        });

        const unitBtns = document.querySelectorAll('.unit-btn');
        const inchesTable = document.querySelector('.inches-table');
        const cmTable = document.querySelector('.cm-table');

        unitBtns.forEach(btn => {
            btn.addEventListener('click', function () {
                // Remove active class from all buttons
                unitBtns.forEach(b => b.classList.remove('active'));
                // Add active class to clicked button
                this.classList.add('active');

                // Show/hide appropriate table
                if (this.dataset.unit === 'inches') {
                    inchesTable.classList.remove('hidden');
                    cmTable.classList.add('hidden');
                } else {
                    inchesTable.classList.add('hidden');
                    cmTable.classList.remove('hidden');
                }
            });
        });

        const shippingBtn = document.querySelector('.shipping-btn');
        const shippingContent = document.querySelector('.shipping-content');

        shippingBtn.addEventListener('click', function () {
            shippingContent.classList.toggle('collapsed');
            this.classList.toggle('active');
        });
    });
</script>